# Management Network User Guide

This documentation helps network administrators and support personnel install install and manage Aruba, Dell, and Mellanox network devices in a CSM install.

The HPE Cray recommended way of configuring the network is by using the CANU tool. Therefore this guide will not go into detail on how to configure each
switch manually using the CLI. Instead, it will give helpful examples of how to configure/use features generated by CANU, in order to provide administrators
easy ways to customize their installation.

Also included in this guide are the current documented and supported network scenarios.

**NOTE:** Not every configuration option is covered here; for any configuration outside of the scope of this document, refer to the official
Aruba, Dell, or Mellanox user manuals.

This document is intended for network administrators and support personnel.

**NOTE:** The display and command lines illustrated in this document are examples and might not exactly match any particular environment. The switch and
accessory drawings in this document are for illustration only, and may not exactly match installed products.

## Contents

* [Switch Configuration States](#switch_config_states)
* [Starting Points](#starting)
* [User Guides](#userguides)
* [CANU](#canu)
* [Useful Pages](#useful)
* [Products Supported](#products)
* [Architecture and Naming Conventions](#architecture)
* [Minimum Software Version Requirements](#minimums)
* [Changes](#ch_ch_ch_changes)
  * [Enhancements](#enhancements)
  * [Fixes](#fixes)
  * [Issues and Workarounds](#issues)
  * [Security Bulletin Subscription Service](#bulletin)

<a name="switch_config_states"></a>

## Switch Configuration States

To check the current state of the switches, see the [upgrade](upgrade.md) page.

* `1.0 Config`: Non-generated switch configurations
* `1.2 Preconfig`: CANU-generated configurations for 1.0
* `1.2 Config`: CANU-generated configurations for 1.2

<a name="starting"></a>

## Starting Points

* Current switch configurations are not generated and need to upgrade to generated configurations.
  * This can either be 1.0 generated or 1.2 generated.
  * [upgrade](upgrade.md)
* Current switch configurations are generated and need to go to 1.2.
  * [`1.2 (Preconfig)` to 1.2](1.0_to_1.2_upgrade.md)
* Switches have no configuration on them.
  * [Fresh Install](fresh_install.md)
* Reinstalling the same CSM version.
  * [Re-install](reinstall.md)
* New hardware was added to the system.
  * [Added Hardware](added_hardware.md)
* Switch failed and needs to be replaced.
  * [Replace Switch](replace_switch.md)

<a name="userguides"></a>

## User Guides

The user guides contain information such as are generic configuration examples, explanation of currently used technologies, topology maps, and a
summary of the network design used in the CSM management network.

* [Aruba](aruba/index.md)
* [Dell](dell/index.md)
* [Mellanox](mellanox/index.md)

<a name="canu"></a>

## CANU

See [CSM Automatic Network Utility (CANU)](canu/index.md)

<a name="useful"></a>

## Useful Pages

* [Collect data](collect_data.md)
  * Input data needed to generate switch configurations.
* [Cable Management Network Servers](../../../install/cable_management_network_servers.md)
  * Shows how servers in CSM should be cabled.
* [SHCD HMN Tab/HMN Connections Rules](../../../install/shcd_hmn_connections_rules.md)
  * Shows how the HMN tab on the SHCD should be formatted.
* [SHCD Connection Rules](../../../install/shcd_hmn_connections_rules.md)
  * Shows how the all tabs on the SHCD should be formatted EXCEPT the HMN tab.
* [Backup Custom Configuration](backup_custom_config.md)
  * Shows users how to backup configuration that is custom to their system; this includes site connections and credentials.
* [Configuration Management](config_management.md)
  * Shows users how to save a running configuration to the switch for backup purposes or to switch between different switch configurations.
* [Validate Switch Configuration](validate_switch_configs.md)
  * Compares the configuration on a running system to what is generated.
* [Wipe Management Switches](wipe_mgmt_switches.md)
  * Erase the switch configuration, this is useful for fresh installs.
* [Generate Switch Configurations](generate_switch_configs.md)
  * Generate configurations for all management switches.
* [Manual Switch Configurations](manual_switch_config.md)
  * Some configuration needs to be done manually (authentication/SNMP).
* [Validate SHCD](validate_shcd.md)
  * Validate the SHCD against the CSM network architecture.

<a name="products"></a>

## Products Supported

This release applies to the following product models:

* Aruba `8320` Switch Series
* Aruba `8325` Switch Series
* Aruba `8360` Switch Series
* Aruba `6300` Switch Series
* Mellanox `SN2100` Switch Series
* Mellanox `SN2700` Switch Series
* Dell `S3048-ON` Switch Series
* Dell `S4148T-ON` Switch Series
* Dell `S4148F-ON` Switch Series

<a name="architecture"></a>

## Architecture and Naming Conventions

For architecture and naming convention information, see
[Cray Network Architecture model](https://github.com/Cray-HPE/canu/blob/main/network_modeling/models/cray-network-architecture.yaml).

<a name="minimums"></a>

## Minimum Software Version Requirements

* [Network Firmware](firmware/update_management_network_firmware.md)

<a name="ch_ch_ch_changes"></a>

## Changes

These sections list enhancements, fixes, and known issues for this version of the Shasta management network.

* [Enhancements](#enhancements)
* [Fixes](#fixes)
* [Issues and Workarounds](#issues)
* [Security Bulletin Subscription Service](#bulletin)

<a name="enhancements"></a>

### Enhancements

Software enhancements are listed in reverse-chronological order, with the newest on the top of the list.

Unless otherwise noted, each network version listed includes all enhancements added in earlier versions.

#### Spanning-tree

In the Shasta management network version 1.2, Spanning-tree configuration is changing from RPVST (RSTP) to
MSTP, in order to allow for better vendor interoperability and simplified Spanning-tree configuration. The
new default configuration is as follows:

* Spanning-tree BPDU guard is removed from NCN LAG ports.
* Spanning-tree BPDU filter is removed.
* Spanning-tree admin-edge port settings are retained for allowing quicker PXE boot.
* Spanning-tree instance is tied to default (no longer multiple instances or per VLAN).
* Spanning-tree MSTP configuration name and revision in all configurations generated by CANU are set.
* Add peering from MetalLB to customer edge router.

<a name="fixes"></a>

### Fixes

<a name="issues"></a>

### Issues and Workarounds

The following are known open issues with this branch of the software.

The Symptom statement describes what a user might experience if this is seen on the network. The Scenario statement provides additional environment details and trigger summaries. When available, the Workaround statement provides a workaround to the issue.

> No currently known issues.

<a name="bulletin"></a>

### Security Bulletin Subscription Service

To initiate a subscription to receive future HPE Security Bulletin alerts via email,
see the [`HPE Support Center`](https://support.hpe.com/connect/s/?language=en_US).

A Security Bulletin is the published notification of security vulnerabilities and is the only communication
vehicle for security vulnerabilities.

* Fixes for security vulnerabilities are not documented in manuals, release notes, or other forms of product
documentation.
* A Security Bulletin is released when all vulnerable products still in support life have publicly available
images that contain the fix for the security vulnerability.
