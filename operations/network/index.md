# HPE Cray supercomputer

## Management Network install and configuration guide



## Introduction

The intent for the this documentation is to help install and manage Aruba, Dell, and Mellanox network switches in a Cray supercomputer installation.

The HPE Cray recommended way of configuring the network is via the CANU tool, hence this guide will not go to level of detail of how to configure each switch via CLI in the topology, rather give you helpful examples of how to configure/use features generated by CANU to provide administrators easy way to customize their installation.

Also included in this guide are our current documented and supported network scenarios.
Please do note that not every configuration option is covered here and for any configuration outside of the scope of this document; You should refer to the official Aruba user manuals.



This document is intended for network administrators and support personnel.

__________________________________
The display and command line illustrated in this document are examples and might not exactly match your particular environment. The switch and accessory drawings in this document are for illustration only, and may not exactly match your installed products.
__________________________________

## Start guide
This guide is designed to be followed when doing a fresh install, upgrade, reinstall or adding hardware.
[Start guide](./network_management_install_guide/start_guide.md)

## User guides

   1. [Aruba](./network_management_install_guide/aruba/index_aruba.md)
   1. [Dell](./network_management_install_guide/dell/index_aruba.md)
   1. [Mellanox](./network_management_install_guide/mellanox/index_aruba.md)


### CANU:
CANU (CSM Automatic Network Utility) is a tool used to generate/validate/test the Shasta management network.
Documentation for CANU can be found at https://github.com/Cray-HPE/canu

### Useful pages
- [Collect data](./network_management_install_guide/collect_data.md)
- [Cable Management Network Servers](../../install/cable_management_network_servers.md)
   - shows how servers in CSM should be cabled.
- [SHCD HMN Tab/HMN Connections Rules](../../install/shcd_hmn_connections_rules.md)
   - shows how the HMN tab on the SHCD should be formatted.
- [SHCD Connection Rules](./network_management_install_guide/shcd_connection_rules.md)
   - shows how the all tabs on the SHCD should be formatted EXCEPT the HMN tab.
- [Backup custom config](./network_management_install_guide/backup_custom_config.md)
   - shows users how to backup configuration that's custom to their system, this include site connections and credentials.
- [Config management](./network_management_install_guide/config_management.md)
   - shows users how to save a running config to the switch for backup purposes or to switch between different switch configs.
- [Validate switch config](./network_management_install_guide/validate_switch_configs.md)
- [wipe management switches](./network_management_install_guide/wipe_mgmt_switches.md)
- [Generate switch configs](./network_management_install_guide/generate_switch_configs.md)
[Validate SHCD](./network_management_install_guide/validate_shcd.md)

### Products Supported

This release applies to the following product models

* Aruba 8320 Switch Series
* Aruba 8325 Switch Series
* Aruba 8360 Switch Series
* Aruba 6300 Switch Series
* Mellanox SN2100 Switch Series
* Mellanox SN2700 Switch Series
* Dell S3048-ON Switch Series
* Dell S4148T-ON Switch Series
* Dell S4148F-ON Switch Series

### Minimum software version requirements

| Model | software version |
| ----- | -----: |
| Aruba 8320 Switch Series | 10.08.1021 |
| Aruba 8325 Switch Series | 10.08.1021 |
| Aruba 8360 Switch Series | 10.08.1021 |
| Aruba 6300 Switch Series | 10.08.1021 |
| Mellanox SN2100 Switch Series | 3.9.3210|
| Mellanox SN2700 Switch Series | 3.9.3210|
| Dell S3048-ON Switch Series | 10.5.1.4|
| Dell S4148T-ON Switch Series | 10.5.1.4|
| Dell S4148F-ON Switch Series | 10.5.1.4|

Software version can be validated using the CANU tool.

### Enhancements

This section lists enhancements added to this version of Shasta management network.

Software enhancements are listed in reverse-chronological order, with the newest on the top of the list.

Unless otherwise noted, each network version listed includes all enhancements added in earlier versions.

Version 1.2

<table>
<td>
<pre>
Spanning-tree
</td>
</pre>
<td>
<pre>
In the Shasta management network version 1.2 Spanning-tree configuration 
is changing from RPVST (RSTP) to MSTP to allow for better vendor interoperability
and simplified Spanning-tree configuration. New default configuration: 

* Spanning-tree BPDU guard is removed from NCN LAG ports
* Spanning-tree BPDU filter is removed
* Spanning-tree admin-edge port settings are retained for allowing quicker PXE boot
* Spanning-tree instance is tied to default (no longer multiple instances or per vlan) 
* Spanning-tree MSTP configuration name and revision in all configurations generated by Canu are set as: ***name*** cray ***version*** 2 
</td>
</pre>
</table>

### Fixes

<table>
<td>
<pre>
....
</td>
</pre>
<td>
<pre>
....
</td>
</pre>
</table>

### Issues and Workarounds

The following are known open issues with this branch of the software.

The Symptom statement describes what a user might experience if this is seen on the network. The Scenario statement provides additional environment details and trigger summaries. When available, the Workaround
statement provides a workaround to the issue.

<table>
<td>
<pre>
No currently known issues
</pre>
</td>
<td>
<pre>
N/A
</td>
</pre>
</table>

### Security Bulletin Subscription Service

You can sign up at [click here](https://support.hpe.com/connect/s/?language=en_US)
to initiate a subscription to receive future HPE Security Bulletin alerts via email.

A Security Bulletin is the published notification of security vulnerabilities and is the only communication
vehicle for security vulnerabilities.

* Fixes for security vulnerabilities are not documented in manuals, release notes, or other forms of product
documentation.
* A Security Bulletin is released when all vulnerable products still in support life have publicly available
images that contain the fix for the security vulnerability
